<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body></body>
</html>

<script>
  //This code is for my reference- Starting from here
  /*
  function arr(arr) {
    this.arr = arr;
    this.size = arr.length;

    // this.key = function (index) {
    //   return this.arr[index];
    // };

    // this.pop = function () {
    //   this.arr.splice(this.size - 1, 1);
    //   this.size--;
    // };

    // this.push = function (element) {
    //   this.arr[this.size] = element;
    //   this.size++;
    // };

    // this.forEach = function () {
    //   for (let i = 0; i <= this.size - 1; i++) {
    //     this.arr[i] *= 10;
    //   }
    // };

    // this.map = function () {
    //   for (let i = 0; i <= this.size - 1; i++) {
    //     this.arr[i] *= 10;
    //   }
    //   return this.arr;
    // };
  }

  arr.prototype.key = function (index) {
    return this.arr[index];
  };

  arr.prototype.pop = function () {
    this.arr.splice(this.size - 1, 1);
    this.size--;
  };

  arr.prototype.push = function (element) {
    this.arr[this.size] = element;
    this.size++;
  };

  arr.prototype.forEach = function () {
    for (let i = 0; i <= this.size - 1; i++) {
      this.arr[i] *= 10;
    }
  };

  arr.prototype.map = function () {
    for (let i = 0; i <= this.size - 1; i++) {
      this.arr[i] *= 10;
    }
    return this.arr;
  };

  let myArr = new arr([1, 2, 3]);

  console.log(myArr);

  console.log(myArr.key(2));

  myArr.pop();
  console.log(myArr.arr);

  // console.log(myArr.key(1));

  myArr.push(10);
  console.log(myArr.size);

  myArr.forEach();
  console.log(myArr.arr);

  console.log(myArr.map());

  */

  //Ending here

  //Assignment code Start from here

  let arr = new Array(1, 2, 3);

  // size property
  arr.size = arr.length;

  //   console.log(arr.size);

  //   console.log(arr);

  //Key[index]
  Array.prototype.key = function (index) {
    return this[index];
  };

  console.log(arr);
  console.log(arr.key(1));

  //Pop funtion
  Array.prototype.Pop = function () {
    this.splice(this.length - 1, 1);
    this.size--;
  };

  arr.Pop();
  console.log(arr);

  // push funtion
  Array.prototype.Mypush = function (element) {
    this[this.length] = element;
    this.size++;
  };

  arr.Mypush(100);
  arr.Mypush(1000);
  console.log(arr);

  // forEach function
  Array.prototype.myForEach = function (fun) {
    for (let i = 0; i <= this.length - 1; i++) {
      let element = this[i];
      let result = fun(element);
    }
  };

  arr.myForEach(function (element) {
    console.log(element * 2);
  });

  //Example
  let sanketArr = [1, 2, 3, 4, 5];

  sanketArr.myForEach(function (element) {
    console.log(element);
  });

  //Map function
  Array.prototype.myMap = function (Mapfun) {
    let newArr = [];
    for (let i = 0; i <= this.length - 1; i++) {
      let element = this[i];
      let result = Mapfun(element);
      newArr.push(result);
    }
    return newArr;
  };

  let finalResult = arr.myMap(function (element) {
    return element * 2;
  });

  console.log(finalResult);

  //Filter function
  Array.prototype.myFilter = function (fun) {
    let newArr = [];
    for (let i = 0; i <= this.length - 1; i++) {
      let element = this[i];
      let result = fun(element);
      if (result === true) {
        newArr.push(element);
      }
    }
    return newArr;
  };

  let filterResult = arr.myFilter(function (element) {
    return element === 1000;
  });
  console.log(filterResult);

  //Reduce function
  console.log(arr);
  Array.prototype.myReduce = function (func, accum) {
    let i = 0;
    // console.log(arguments.length);

    if (arguments.length < 2) {
      i = 1;
      accum = this[0];
    }

    for (; i <= this.length - 1; i++) {
      let currentResult = this[i];
      accum = func(accum, currentResult);
    }
    return accum;
  };

  let reduceResult = arr.myReduce(function (accum, element) {
    // console.log(accum, element);
    return accum * element;
  }, 100);

  console.log(reduceResult);

  //chaining
  let chainingResult = arr
    .myMap(function (element) {
      return element * 2;
    })
    .myFilter(function (element) {
      return element > 10;
    })
    .myReduce(function (accum, element) {
      return accum * element;
    });
  console.log(chainingResult);
</script>
